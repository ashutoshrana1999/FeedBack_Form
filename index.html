<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Feedback Form</title>
</head>
<body>
  <h1>Feedback Form</h1>
  <div id="info" style="margin-bottom:1em;color:#333;"></div>

  <form id="feedbackForm">
    <label>Project Type: <input id="projectType" name="projectType"></label><br><br>
    <label>Project Code: <input id="projectCode" name="projectCode"></label><br><br>
    <label>Feedback:<br>
      <textarea id="feedback" name="feedback" rows="6" cols="40"></textarea>
    </label><br><br>
    <button type="submit">Submit</button>
  </form>

  <script>
  (function(){
    // The repo folder on GitHub Pages for this site
    var repoBase = '/FeedBack_Form';

    // If a redirect (404) sent us here it may include the original path in ?p=...
    function getPathFromURL(){
      var params = new URLSearchParams(location.search);
      var p = params.get('p');
      if(p) return p;
      var path = location.pathname || '/';
      if(path.indexOf(repoBase) === 0) path = path.slice(repoBase.length);
      return path;
    }

    var rawPath = getPathFromURL();
    var segments = rawPath.split('/').filter(Boolean);
    var info = document.getElementById('info');
    var typeInput = document.getElementById('projectType');
    var codeInput = document.getElementById('projectCode');

    if(segments.length >= 2){
      var projectType = decodeURIComponent(segments[0]);
      var projectCode = decodeURIComponent(segments[1]);
      typeInput.value = projectType;
      codeInput.value = projectCode;
      info.textContent = 'Project: ' + projectType + ' / ' + projectCode;
    } else {
      info.innerHTML = 'No project specified. Use URL: <code>' + window.location.origin + repoBase + '/{project type}/{project code}</code>';
    }

    document.getElementById('feedbackForm').addEventListener('submit', function(e){
      e.preventDefault();
      // Replace this with your form handling (send to server, save to Google Sheet, etc.)
      alert('Thanks â€” submitted for ' + typeInput.value + ' / ' + codeInput.value + '\n\nFeedback:\n' + document.getElementById('feedback').value);
    });
  })();
  </script>
</body>
</html>